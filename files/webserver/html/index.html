<!DOCTYPE html>
<html>
<head>
    <title>Raspberry Pi Index Page</title>
<style>
</style>

<link href='https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons' rel="stylesheet" type="text/css">
 
<script src="https://unpkg.com/vue/dist/vue.js"></script>
 

<link href="https://unpkg.com/vuetify/dist/vuetify.min.css" rel="stylesheet" type="text/css">
 
<script src="https://unpkg.com/vuetify/dist/vuetify.min.js"></script>
</head>

<body>
<h2 style="text-align:center;">Services available on Pi</h2>

<div id="myapp">
  <boo></boo>
</div>

<template id="myapp-template">
   <v-data-table
      v-bind:headers="headers"
      :items="items"
      hide-actions
      class="elevation-1"
    >
    <template slot="items" scope="props">
      <td class="text-xs-center"><a v-bind:href=props.item.url>{{ props.item.service }}</a></td>
      <td class="text-xs-right">{{props.item.port}}</td>
      <td class="text-xs-right">{{ props.item.description}}</td>
    </template>
    </v-data-table>
</template>

<script type="text/javascript">
    Vue.component('boo',{
        data: function() { 
            var hostname = window.location.hostname;
            return {
              headers: [
              {
                text: 'Services',
                value: 'service'
              },
              {
                text: 'Port',
                value: 'port'
              },
              {
                text: 'Description',
                value: 'description'
              }
              ],
              items: [
              {
                value: false,
                service: 'SAMBA',
                description: 'Network share (public)',
                port: 445,
                url: ''
              },
              {
               value: false,
               service: 'NodeRED',
               description: 'NodeRED',
               port: 1880,
               url: 'http://' + hostname + ':1880'
              },
              {
               value: false,
               service: 'NodeRED(docker)',
               description: 'NodeRED on port 1881',
               port: 1881,
               url: 'http://' + hostname + ':1881'
              },              
              {
               value: false,
               service: 'Apache',
               description: 'webserver',
               port: 80,
               url: 'http://' + hostname
              },
              {
               value: false,
               service: 'Portainer',
               description: 'Docker Manager UI',
               port: 9000,
               url: 'http://' + hostname + ':9000'
              },
              {
               value: false,
               service: 'Jupyter and Tensorflow',
               description: 'Jupyter Notebook',
               port: 8888,
               url: 'http://' + hostname + ':8888'                
              },
              {
               value: false,
               service: 'Home Assistant',
               description: 'Home Assistant',
               port: 8123,
               url: 'http://' + hostname + ':8123'                
              },              
              {
               value: false,
               service: 'Appdaemon for Home Assistant',
               description: 'HADashboard',
               port: 5050,
               url: 'http://' + hostname + ':5050'                
              },
              {
               value: false,
               service: 'OpenHAB',
               description: 'OpenHAB',
               port: 8080,
               url: 'http://' + hostname + ':8080'                
              },
              {
               value: false,
               service: 'InfluxDB',
               description: 'Measurement datastore',
               port: 8086,
               url: 'http://' + hostname + ':8086'                
              },
              {
               value: false,
               service: 'Redis',
               description: 'Key value datastore',
               port: 6379,
               url: 'http://' + hostname + ':6379'                
              },                
              {
               value: false,
               service: 'MongoDB',
               description: 'MongoDB',
               port: 27017,
               url: 'http://' + hostname + ':27017'                
              },                                         
              {
               value: false,
               service: 'MQTT',
               description: 'MQTT Broker',
               port: 1883,
               url: 'http://' + hostname + ':1883'      
              },
              {
               value: false,
               service: 'Postgres',
               description: 'Another database',
               port: 5432,
               url: 'http://' + hostname + ':5432'      
              },
              ]
            }
         },        
        template: '#myapp-template'
    });

    new Vue({
        el: '#myapp'

    });
</script>


</body>
</html>