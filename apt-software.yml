---
- name: Install and update software through apt
  hosts: raspberrypis
  tasks:
    - name: Get latest Raspbian updates
      apt: 
        update_cache: yes
      become: true

    - name: Make sure there are no broken packages
      command: apt-get -y -f install
      become: true 

    - name: Install software
      apt:
        name: "{{ item }}"
        state: present
      with_items:
        - arduino
        - audacity
        - vlc
        - at-spi2-core
        - florence 
        - realvnc-vnc-server  
        - build-essential  
      become: true

 
